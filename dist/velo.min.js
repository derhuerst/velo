// velo | Jannis R | v0.2.0

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;"undefined"!=typeof window?i=window:"undefined"!=typeof global?i=global:"undefined"!=typeof self&&(i=self),i.velo=t()}}(function(){return function t(i,n,e){function r(s,h){if(!n[s]){if(!i[s]){var u="function"==typeof require&&require;if(!h&&u)return u(s,!0);if(o)return o(s,!0);var a=Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var l=n[s]={exports:{}};i[s][0].call(l.exports,function(t){var n=i[s][1][t];return r(n?n:t)},l,l.exports,t,i,n,e)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;e.length>s;s++)r(e[s]);return r}({1:[function(t,i,n){"strict mode";{var e=n.noop=function(){},r=n.inherit=Object.create,o=function(t,i){for(key in i)void 0!==i[key]&&(t[key]=i[key]);return t},s=n.array={add:function(t,i){s.has(t,i)||t.push(i)},remove:function(t,i,n){(n=t.indexOf(i)>=0)&&t.splice(n,1)},has:function(t,i){return t.indexOf(i)>=0},foreach:function(t,i,n,e){for(arguments=s.slice(t,2),n=0,e=t.length;e>n;n++)t[n]&&t[n][i].apply(t[n],arguments)},slice:function(t,i,n){return Array.prototype.slice.call(t,i,n)}},h=n.Vector={init:function(t,i){return this.x=t||0,this.y=i||0,this},add:function(t,i){return null!==i?(this.x+=t,this.y+=i):null!==t&&(this.x+=t.x,this.y+=i.y),this},rotate:function(t){return this.x=Math.cos(t)*x,this.y=Math.sin(t)*y,this},equals:function(t,i){return null!==i?this.x===t.x&&this.y===t.y:this.x===t&&this.y===i},clone:function(){return u(this.x,this.y)}},u=n.v=function(t,i){return r(h).init(t,i)},a=n.Node={init:function(t){return t=t||{},this._parent=t.parent||null,this._position=t.position||u(),this._rotation=t.rotation||0,this.children=Array(t.children),this._update(),this},parent:function(t){return t?(this._parent=t,this._root=t._root,this._update(),this):this._parent},position:function(t,i){return t?(i===!0?this._position.add(t):this._position=t,this._update(),this):this._position},rotation:function(t,i){return null!==t?(i===!0?this._rotation+=t:this._rotation=t,this._update(),this):this._position},_update:function(){var t=this,i=t._parent;t._absRotation=t._rotation,i?(t._absPosition=t._absolute(t._position,i._absPosition,i._absRotation),t._absRotation+=i._absRotation):t._absPosition=t._position.clone(),s.foreach(this.children,"_update")},_absolute:function(t,i,n){return t.clone().rotate(n).add(i)}},l=(n.n=function(t){return r(a).init(t)},n.Canvas=o(r(a),{init:function(t){if(a.init.call(this),this._root=this,!t)throw Error("No HTMLCanvasElement given.");return this.element=t,this.context=t.getContext("2d"),this},clear:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},draw:function(){s.foreach(this.children,"draw")}})),c=(n.c=function(t){return r(l).init(t)},n.Shape=o(r(a),{init:function(t){return t=t||{},a.init.call(this,t),this.fillColor=t.fillColor||"gray",this.strokeColor=t.strokeColor||"black",this.lineWidth=null!==t.lineWidth?t.lineWidth:1,this},draw:function(){var t=this._root.context;t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.lineWidth}})),f=(n.c=function(t){return r(l).init(t)},n.RenderingInterval={init:function(t){return this.callback=t||e,this.stop(),this},start:function(){return this.running=!0,this._queue(),this},stop:function(){return this.running=!1,this},_call:function(){this.running&&(this.callback(),this._queue())},_queue:function(){requestAnimationFrame(this._call.bind(this))}}),d=(n.ri=function(t){return r(f).init(t)},n.Interval=o(r(f),{init:function(t,i){f.call(this,t),this.interval=i},_queue:function(){setTimeout(this._call.bind(this),this.interval)}})),_=(n.i=function(t,i){return r(d).init(t,i)},n.Spot=o(r(c),{init:function(t){return t=t||{},c.init.call(this,t),this.size=null!==t.size?t.size:2,this},draw:function(){var t=this,i=t._root.context,n=t._absPosition,e=0|t.size;c.draw.call(t),i.fillRect(0|n.x,0|n.y,e,e),t.lineWidth>0&&i.strokeRect(0|n.x,0|n.y,e,e)}})),p=(n.s=function(t){return r(_).init(t)},n.Polygon=o(r(c),{init:function(t){return t=t||{},c.init.call(t),this._vertices=this.vertices=Array(t.vertices),this},draw:function(){var t=this,i=t._root.context,n=t._vertices;c.draw.call(t),i.beginPath();for(var e,r=0,o=n.length;o>r;r++)e=t._absolute(n[r],t._absPosition,t._absRotation),i[0===r?"moveto":"lineTo"](0|e.x,0|e.y);i.closePath(),i.fill(),t.lineWidth>0&&i.stroke()}})),v=(n.p=function(t){return r(p).init(t)},n.Rectangle=o(r(p),{init:function(t){return t=t||{},p.init.call(this,t),this._width=null!==t.width?t.width:60,this._height=null!==t.height?t.height:40,delete this.vertices,this},width:function(t){return null!==t?(this._width=t,this._update(),this):this._width},height:function(t){return null!==t?(this._height=t,this._update(),this):this._height},_update:function(){var t=this;t._vertices=[new h(0,0),new h(t.width,0),new h(t.width,t.height),new h(0,t.height)],a._update.call(t)}})),w=(n.r=function(t){return r(v).init(t)},n.Ellipse=o(r(c),{init:function(t){return t=t||{},c.init.call(this,t),this.width=null!==t.width?t.width:60,this.height=null!==t.height?t.height:40,this},draw:function(){var t=this,i=t._root.context;i.save(),c.draw.call(t),i.translate(0|t._absPosition),i.rotate(t._absRotation),i.scale(1,t.height/t.width),i.beginPath(),i.arc(0,0,t.width/2|0,0,2*Math.PI),i.closePath(),i.fill(),t.lineWidth>0&&i.stroke(),i.restore()}})),g=(n.e=function(t){return r(w).init(t)},n.Square=o(r(p),{init:function(t){return t=t||{},p.init.call(this,t),this.size=null!==t.size?t.size:2,delete this.vertices,this},_update:function(){var t=this;t._vertices=[n.v(0,0),n.v(t.size,0),n.v(t.size,t.size),n.v(0,t.size)],a._update.call(this)}})),b=(n.sq=function(t){return r(g).init(t)},n.Circle=o(r(c),{init:function(t){return t=t||{},c.init.call(this,t),this.radius=null!==t.radius?t.radius:50,this},draw:function(){var t=this,i=t._root.context;c.draw.call(t),i.beginPath(),i.arc(0,0,0|t.radius,0,2*Math.PI),i.closePath(),i.fill(),t.lineWidth>0&&i.stroke()}}));n.cl=function(t){return r(b).init(t)}}},{}]},{},[1])(1)});