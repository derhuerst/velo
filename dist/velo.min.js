// velo | Jannis R | v0.1.0

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;"undefined"!=typeof window?i=window:"undefined"!=typeof global?i=global:"undefined"!=typeof self&&(i=self),i.velo=t()}}(function(){return function t(i,n,e){function o(s,a){if(!n[s]){if(!i[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var u=Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=n[s]={exports:{}};i[s][0].call(h.exports,function(t){var n=i[s][1][t];return o(n?n:t)},h,h.exports,t,i,n,e)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;e.length>s;s++)o(e[s]);return o}({1:[function(t,i,n){function e(t,i){this.x=t||0,this.y=i||0}function o(t){t=t||{},this._parent=t.parent||null,this._position=t.position||n.v(),this._rotation=t.rotation||0,this.children=Array(t.children),o.prototype._update.call(this)}function r(t){o.call(this),this._root=this,this.element=t,this.context=t.getContext("2d")}function s(t){t=t||{},o.call(t),this.fillColor=t.fillColor||"gray",this.strokeColor=t.strokeColor||"black",this.lineWidth=null!==t.lineWidth?t.lineWidth:1}function a(t){this.callback=t||_,this.stop()}function l(t,i){a.call(this,t),this.interval=i}function u(t){t=t||{},s.call(t),this.size=null!==t.size?t.size:2}function h(t){t=t||{},s.call(t),this._vertices=this.vertices=Array(t.vertices)}function c(t){t=t||{},h.call(t),this.width=null!==t.width?t.width:60,this.height=null!==t.height?t.height:40,delete this.vertices}function f(t){t=t||{},s.call(t),this.width=null!==t.width?t.width:60,this.height=null!==t.height?t.height:40}function d(t){h.call(t),this.size=null!==t.size?t.size:2,delete this.vertices}function p(t){s.call(t),this.radius=null!==t.radius?t.radius:50}var _=function(){},v={}.hasOwnProperty,w=function(t,i){function n(){this.constructor=t}for(var e in i)v.call(i,e)&&(t[e]=i[e]);return n.prototype=i.prototype,t.prototype=new n,t},g=function(t,i){for(key in i)void 0!==i[key]&&(t[key]=i[key]);return t};n.array={add:function(t,i){t.indexOf(i)<0&&t.push(i)},remove:function(t,i,n){(n=t.indexOf(i)>=0)&&t.splice(n,i)},has:function(t,i){return this._items.indexOf(i)>=0},foreach:function(){var t=arguments[0],i=arguments[1];arguments=n.array.slice(2);for(var e=0,o=t.length;o>e;e++)t[e]&&t[e][i].apply(t[e],arguments)},slice:function(t,i,n){return Array.prototype.slice.call(t,i,n)}},n.Vector=e,n.v=function(t,i){return new e(t,i)},e.prototype={add:function(t,i){return null!==i?(this.x+=t,this.y+=i):null!==t&&(this.x+=t.x,this.y+=i.y),this},rotate:function(t){return this.x=Math.cos(t)*x,this.y=Math.sin(t)*y,this},equals:function(t,i){return null!==i?this.x===t.x&&this.y===t.y:this.x===t&&this.y===i},clone:function(){return n.v(this.x,this.y)}},n.Node=o,n.n=function(t){return new o(t)},g(o.prototype,{parent:function(t){return 0===arguments.length?this._parent:(this._parent=t||null,this._root=t?t._root:null,void this._update())},position:function(t,i){return 0===arguments.length?this._rotation:(i===!0?this._position.add(t):this._position=node,void this._update())},rotation:function(t){return 0===arguments.length?this._rotation:(this._rotation=t,void this._update())},_update:function(){var t=this,i=t._parent;t._absRotation=t._rotation,i?(t._absPosition=t._absolute(t._position,i._absPosition,i._absRotation),t._absRotation+=i._absRotation):t._absPosition=t._position.clone(),n.array.foreach(this.children,"_update")},_absolute:function(t,i,n){return t.clone().rotate(n).add(i)}}),n.Canvas=r,n.c=function(t){return new r(t)},w(r,o),g(r.prototype,{clear:function(){this.context.clearRect(0,0,this.width,this.height)},draw:function(){this.clear(),n.array.foreach(this.children,"draw")}}),n.Shape=s,n.sh=function(t){return new s(t)},w(s,o),s.prototype.draw=function(){var t=this._root.context;t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.lineWidth},n.RenderingInterval=a,n.ri=function(t){return new a(t)},a.prototype={start:function(){return this.running=!0,this._queue(),this},stop:function(){return this.running=!1,this},_call:function(){this.running&&(this.callback(),this._queue())},_queue:function(){requestAnimationFrame(this._call.bind(this))}},n.Interval=l,n.i=function(t,i){return new l(t,i)},w(l,a),l.prototype._queue=function(){setTimeout(this._call.bind(this),this.interval)},n.Point=u,n.pt=function(t){return new u(t)},w(u,s),u.prototype.draw=function(){var t=this,i=t._root.context,n=t._absPosition,e=0|t.size;s.draw.call(t),i.fillRect(0|n.x,0|n.y,e,e),t.lineWidth>0&&i.strokeRect(0|n.x,0|n.y,e,e)},n.Polygon=h,n.p=function(t){return new h(t)},w(h,s),h.prototype.draw=function(){var t=this,i=t._root.context,n=t._vertices;s.draw.call(t),i.beginPath();var e,o;for(e=0,length=n.length;e<length;e++)o=t._absolute(n[e],t._absPosition,t._absRotation),i[0===e?"moveto":"lineTo"](0|o.x,0|o.y);i.closePath(),i.fill(),t.lineWidth>0&&i.stroke()},n.Rectangle=c,n.p=function(t){return new c(t)},w(c,h),c.prototype._update=function(){var t=this;t._vertices=[n.v(0,0),n.v(t.width,0),n.v(t.width,t.height),n.v(0,t.height)],o._update.call(this)},n.Ellipse=f,n.e=function(t){return new f(t)},w(f,s),f.prototype.draw=function(){var t=this,i=t._root.context;i.save(),s.draw.call(t),i.translate(0|t._absPosition),i.rotate(t._absRotation),i.scale(1,t.height/t.width),i.beginPath(),i.arc(0,0,t.width/2|0,0,2*Math.PI),i.closePath(),i.fill(),t.lineWidth>0&&i.stroke(),i.restore()},n.Square=d,n.s=function(t){return new d(t)},w(d,h),d.prototype._update=function(){var t=this;t._vertices=[n.v(0,0),n.v(t.size,0),n.v(t.size,t.size),n.v(0,t.size)],o._update.call(this)},n.Circle=p,n.e=function(t){return new p(t)},w(p,s),p.prototype.draw=function(){var t=this,i=t._root.context;s.draw.call(t),i.beginPath(),i.arc(0,0,0|t.radius,0,2*Math.PI),i.closePath(),i.fill(),t.lineWidth>0&&i.stroke()}},{}]},{},[1])(1)});